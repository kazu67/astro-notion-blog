---
import TOC from "../components/TOC.astro";
import MobileTOC from "../components/MobileTOC.astro";
import "../styles/base.css";
const { title } = Astro.props;
---
<html lang="ja">
  <body class="min-h-screen">
    <main class="mx-auto max-w-6xl px-4 md:grid md:grid-cols-[minmax(0,1fr)_280px] md:gap-10 article-with-toc">
      <article class="prose max-w-none">
        {title ? <h1>{title}</h1> : null}
        <slot />
      </article>

      <aside class="hidden md:block sticky top-24 h-[calc(100vh-6rem)] overflow-auto pl-4">
        <TOC />
      </aside>
    </main>

    <div class="md:hidden mx-auto max-w-3xl px-4 my-6">
      <MobileTOC />
    </div>

    <!-- Preline（CDN。あとで /public/vendor に置き換え可） -->
    <script src="https://cdn.jsdelivr.net/npm/preline/dist/preline.js" is:raw></script>
  </body>
</html>
